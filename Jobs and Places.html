<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jobs & Workplaces – Beginner English</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Nunito', sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            min-height: 100vh;
            color: #fff;
            overflow-x: hidden;
        }

        /* ── Header ── */
        .header {
            text-align: center;
            padding: 30px 20px 10px;
        }
        .header h1 {
            font-size: 2.4rem;
            font-weight: 800;
            background: linear-gradient(90deg, #f7971e, #ffd200);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .header p {
            font-size: 1rem;
            color: #b8b8d0;
            margin-top: 6px;
        }

        /* ── Tab Navigation ── */
        .tab-bar {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin: 20px auto 30px;
            flex-wrap: wrap;
        }
        .tab-btn {
            padding: 12px 32px;
            border: 2px solid rgba(255,255,255,.15);
            border-radius: 50px;
            background: rgba(255,255,255,.06);
            color: #ccc;
            font-family: inherit;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all .3s;
        }
        .tab-btn:hover { background: rgba(255,255,255,.12); color: #fff; }
        .tab-btn.active {
            background: linear-gradient(135deg, #f7971e, #ffd200);
            color: #1a1a2e;
            border-color: transparent;
            box-shadow: 0 4px 20px rgba(247,151,30,.35);
        }

        /* ── Section Container ── */
        .section { display: none; }
        .section.active { display: block; }

        /* ── Slideshow Card ── */
        .slideshow-wrapper {
            max-width: 600px;
            margin: 0 auto;
            padding: 0 20px 40px;
        }

        .card {
            background: rgba(255,255,255,.07);
            border-radius: 24px;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,.1);
            box-shadow: 0 8px 32px rgba(0,0,0,.35);
            backdrop-filter: blur(10px);
        }

        .card-img-container {
            width: 100%;
            height: 370px;
            overflow: hidden;
            position: relative;
            background: #1a1a2e;
        }
        .card-img-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform .4s;
        }
        .card-img-container img:hover { transform: scale(1.03); }

        /* loading spinner */
        .card-img-container .loader {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #1a1a2e;
            z-index: 1;
            transition: opacity .3s;
        }
        .card-img-container .loader.hidden { opacity: 0; pointer-events: none; }
        .spinner {
            width: 40px; height: 40px;
            border: 4px solid rgba(255,210,0,.2);
            border-top-color: #ffd200;
            border-radius: 50%;
            animation: spin .7s linear infinite;
        }
        @keyframes spin { to { transform: rotate(360deg); } }

        /* Counter badge */
        .counter-badge {
            position: absolute;
            top: 16px;
            right: 16px;
            background: rgba(0,0,0,.55);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: .85rem;
            font-weight: 700;
            color: #ffd200;
            backdrop-filter: blur(6px);
            z-index: 3;
        }

        .card-body {
            padding: 24px 28px 28px;
            text-align: center;
        }

        /* Reveal area */
        .reveal-area {
            min-height: 90px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .reveal-prompt {
            font-size: 1rem;
            color: #b8b8d0;
            cursor: pointer;
            padding: 14px 28px;
            border: 2px dashed rgba(255,255,255,.2);
            border-radius: 14px;
            transition: all .3s;
            user-select: none;
        }
        .reveal-prompt:hover {
            border-color: #ffd200;
            color: #ffd200;
        }
        .reveal-prompt.hidden { display: none; }

        .answer-block { display: none; animation: popIn .4s ease; }
        .answer-block.visible { display: block; }

        .job-name {
            font-size: 1.7rem;
            font-weight: 800;
            color: #ffd200;
        }
        .pronunciation {
            font-size: 1.1rem;
            color: #a8a8c8;
            margin-top: 4px;
            font-style: italic;
        }

        @keyframes popIn {
            0%   { opacity: 0; transform: translateY(12px) scale(.95); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        /* Nav buttons */
        .nav-row {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 18px;
            margin-top: 22px;
        }
        .nav-btn {
            width: 52px;
            height: 52px;
            border-radius: 50%;
            border: 2px solid rgba(255,255,255,.15);
            background: rgba(255,255,255,.06);
            color: #fff;
            font-size: 1.3rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all .25s;
            font-family: inherit;
        }
        .nav-btn:hover:not(:disabled) {
            background: rgba(255,255,255,.15);
            border-color: #ffd200;
            color: #ffd200;
            transform: scale(1.08);
        }
        .nav-btn:disabled {
            opacity: .25;
            cursor: default;
        }

        .progress-dots {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,.15);
            transition: all .3s;
            cursor: pointer;
        }
        .dot.active {
            background: #ffd200;
            box-shadow: 0 0 8px rgba(255,210,0,.5);
            transform: scale(1.25);
        }
        .dot.visited {
            background: rgba(247,151,30,.45);
        }

        /* ── Quiz Section ── */
        .quiz-wrapper {
            max-width: 700px;
            margin: 0 auto;
            padding: 0 20px 60px;
        }
        .quiz-intro {
            text-align: center;
            margin-bottom: 30px;
        }
        .quiz-intro h2 {
            font-size: 1.6rem;
            color: #ffd200;
        }
        .quiz-intro p {
            color: #b8b8d0;
            margin-top: 6px;
        }

        .quiz-card {
            background: rgba(255,255,255,.06);
            border: 1px solid rgba(255,255,255,.1);
            border-radius: 18px;
            padding: 22px 26px;
            margin-bottom: 16px;
            cursor: pointer;
            transition: all .3s;
            position: relative;
            overflow: hidden;
            user-select: none;
        }
        .quiz-card:hover {
            border-color: rgba(255,210,0,.3);
            background: rgba(255,255,255,.09);
        }
        .quiz-card.revealed {
            border-color: rgba(247,151,30,.4);
            background: rgba(255,210,0,.06);
        }

        .quiz-question {
            font-size: 1.1rem;
            font-weight: 600;
            color: #e0e0f0;
            line-height: 1.6;
        }
        .quiz-question .blank {
            display: inline-block;
            min-width: 120px;
            border-bottom: 2px dashed #ffd200;
            margin: 0 4px;
            text-align: center;
            color: #ffd200;
            font-weight: 800;
            transition: all .3s;
        }
        .quiz-question .blank.show-answer {
            border-bottom-style: solid;
            background: rgba(255,210,0,.1);
            border-radius: 4px;
            padding: 0 8px;
        }

        .quiz-hint {
            font-size: .82rem;
            color: #777;
            margin-top: 8px;
            transition: all .3s;
        }

        .quiz-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            background: rgba(255,210,0,.15);
            color: #ffd200;
            border-radius: 50%;
            font-size: .85rem;
            font-weight: 800;
            margin-right: 10px;
        }

        .score-bar {
            text-align: center;
            margin-top: 24px;
        }
        .reset-btn {
            padding: 12px 32px;
            border: 2px solid #ffd200;
            background: transparent;
            color: #ffd200;
            border-radius: 50px;
            font-family: inherit;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all .3s;
        }
        .reset-btn:hover {
            background: #ffd200;
            color: #1a1a2e;
        }

        /* ── Responsive ── */
        @media (max-width: 500px) {
            .header h1 { font-size: 1.6rem; }
            .card-img-container { height: 260px; }
            .job-name { font-size: 1.3rem; }
            .tab-btn { padding: 10px 22px; font-size: .9rem; }
        }
    </style>
</head>
<body>

<div class="header">
    <h1>Jobs & Workplaces</h1>
    <p>Beginner English — Learn, Reveal &amp; Quiz yourself!</p>
</div>

<!-- ── Tab Bar ── -->
<div class="tab-bar">
    <button class="tab-btn active" data-tab="jobs">Jobs</button>
    <button class="tab-btn" data-tab="places">Workplaces</button>
    <button class="tab-btn" data-tab="quiz">Quiz</button>
</div>

<!-- ════════════════════════════════════════ -->
<!--               JOBS SECTION              -->
<!-- ════════════════════════════════════════ -->
<div id="section-jobs" class="section active">
    <div class="slideshow-wrapper">
        <div class="card">
            <div class="card-img-container">
                <span class="counter-badge" id="jobs-counter">1 / 10</span>
                <div class="loader" id="jobs-loader"><div class="spinner"></div></div>
                <img id="jobs-img" src="" alt="Job image">
            </div>
            <div class="card-body">
                <div class="reveal-area">
                    <div class="reveal-prompt" id="jobs-reveal" onclick="revealAnswer('jobs')">
                        Tap to reveal the job!
                    </div>
                    <div class="answer-block" id="jobs-answer">
                        <div class="job-name" id="jobs-name"></div>
                        <div class="pronunciation" id="jobs-pron"></div>
                    </div>
                </div>
                <div class="nav-row">
                    <button class="nav-btn" id="jobs-prev" onclick="navigate('jobs',-1)">&#9664;</button>
                    <div class="progress-dots" id="jobs-dots"></div>
                    <button class="nav-btn" id="jobs-next" onclick="navigate('jobs',1)">&#9654;</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ════════════════════════════════════════ -->
<!--            PLACES SECTION               -->
<!-- ════════════════════════════════════════ -->
<div id="section-places" class="section">
    <div class="slideshow-wrapper">
        <div class="card">
            <div class="card-img-container">
                <span class="counter-badge" id="places-counter">1 / 8</span>
                <div class="loader" id="places-loader"><div class="spinner"></div></div>
                <img id="places-img" src="" alt="Place image">
            </div>
            <div class="card-body">
                <div class="reveal-area">
                    <div class="reveal-prompt" id="places-reveal" onclick="revealAnswer('places')">
                        Tap to reveal the workplace!
                    </div>
                    <div class="answer-block" id="places-answer">
                        <div class="job-name" id="places-name"></div>
                        <div class="pronunciation" id="places-pron"></div>
                    </div>
                </div>
                <div class="nav-row">
                    <button class="nav-btn" id="places-prev" onclick="navigate('places',-1)">&#9664;</button>
                    <div class="progress-dots" id="places-dots"></div>
                    <button class="nav-btn" id="places-next" onclick="navigate('places',1)">&#9654;</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ════════════════════════════════════════ -->
<!--             QUIZ SECTION                -->
<!-- ════════════════════════════════════════ -->
<div id="section-quiz" class="section">
    <div class="quiz-wrapper">
        <div class="quiz-intro">
            <h2>Gap-Fill Exercise</h2>
            <p>Click each sentence to show the answer. Click again to hide it.</p>
        </div>
        <div id="quiz-container"></div>
        <div class="score-bar">
            <button class="reset-btn" onclick="resetQuiz()">Reset Quiz</button>
        </div>
    </div>
</div>

<script>
/* ──────────────────────────────────────────
        DATA
   ────────────────────────────────────────── */

const jobsData = [
    {
        name: "a teacher",
        pron: "/ˈtiːtʃə/",
        img: "https://images.unsplash.com/photo-1577896851231-70ef18881754?w=800&q=80"
    },
    {
        name: "a doctor",
        pron: "/ˈdɒktə/",
        img: "https://images.unsplash.com/photo-1612349317150-e413f6a5b16d?w=800&q=80"
    },
    {
        name: "a nurse",
        pron: "/nɜːs/",
        img: "https://images.unsplash.com/photo-1559839734-2b71ea197ec2?w=800&q=80"
    },
    {
        name: "a journalist",
        pron: "/ˈdʒɜːnəlɪst/",
        img: "https://images.pexels.com/photos/10464478/pexels-photo-10464478.jpeg?auto=compress&cs=tinysrgb&w=800"
    },
    {
        name: "a waiter / a waitress",
        pron: "/ˈweɪtə/ — /ˈweɪtrəs/",
        img: "https://images.pexels.com/photos/3769740/pexels-photo-3769740.jpeg?auto=compress&cs=tinysrgb&w=800"
    },
    {
        name: "a shop assistant",
        pron: "/ˈʃɒp əˌsɪstənt/",
        img: "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&q=80"
    },
    {
        name: "a receptionist",
        pron: "/rɪˈsepʃənɪst/",
        img: "https://images.unsplash.com/photo-1556745753-b2904692b3cd?w=800&q=80"
    },
    {
        name: "a police officer",
        pron: "/pəˈliːs ˌɒfɪsə/",
        img: "https://images.pexels.com/photos/4646766/pexels-photo-4646766.jpeg?auto=compress&cs=tinysrgb&w=800"
    },
    {
        name: "a factory worker",
        pron: "/ˈfæktəri ˌwɜːkə/",
        img: "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&q=80"
    },
    {
        name: "a taxi driver",
        pron: "/ˈtæksi ˌdraɪvə/",
        img: "https://images.pexels.com/photos/5834978/pexels-photo-5834978.jpeg?auto=compress&cs=tinysrgb&w=800"
    }
];

const placesData = [
    {
        name: "in a hospital",
        pron: "/ˈhɒspɪtl/",
        img: "https://images.unsplash.com/photo-1519494026892-80bbd2d6fd0d?w=800&q=80"
    },
    {
        name: "in a shop",
        pron: "/ʃɒp/",
        img: "https://images.unsplash.com/photo-1567401893414-76b7b1e5a7a5?w=800&q=80"
    },
    {
        name: "in a restaurant",
        pron: "/ˈrestrɒnt/",
        img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800&q=80"
    },
    {
        name: "in an office",
        pron: "/ˈɒfɪs/",
        img: "https://images.unsplash.com/photo-1497366216548-37526070297c?w=800&q=80"
    },
    {
        name: "in a school",
        pron: "/skuːl/",
        img: "https://images.unsplash.com/photo-1580582932707-520aed937b7b?w=800&q=80"
    },
    {
        name: "in a factory",
        pron: "/ˈfæktəri/",
        img: "https://images.unsplash.com/photo-1513828583688-c52646db42da?w=800&q=80"
    },
    {
        name: "at home",
        pron: "/həʊm/",
        img: "https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800&q=80"
    },
    {
        name: "in the street",
        pron: "/striːt/",
        img: "https://images.unsplash.com/photo-1477959858617-67f85cf4f1df?w=800&q=80"
    }
];

const quizData = [
    { q: 'A _______ works in a school and helps students learn.', a: 'teacher' },
    { q: 'A _______ works in a hospital and helps sick people.', a: 'doctor' },
    { q: 'A _______ works in a hospital too. They help the doctor.', a: 'nurse' },
    { q: 'A _______ writes news stories for a newspaper or TV.', a: 'journalist' },
    { q: 'A _______ brings food to your table in a restaurant.', a: 'waiter' },
    { q: 'A _______ helps customers in a shop.', a: 'shop assistant' },
    { q: 'A _______ works at the front desk and answers the phone.', a: 'receptionist' },
    { q: 'A _______ keeps people safe. They wear a uniform.', a: 'police officer' },
    { q: 'A _______ makes things in a factory.', a: 'factory worker' },
    { q: 'A _______ drives a taxi and takes people places.', a: 'taxi driver' },
    { q: 'Doctors and nurses work in a _______.', a: 'hospital' },
    { q: 'You buy clothes and food in a _______.', a: 'shop' },
    { q: 'You eat lunch or dinner in a _______.', a: 'restaurant' },
    { q: 'Many people use computers and work in an _______.', a: 'office' },
    { q: 'Children go to a _______ to learn every day.', a: 'school' },
    { q: 'Machines and factory workers are in a _______.', a: 'factory' },
];

/* ──────────────────────────────────────────
        STATE
   ────────────────────────────────────────── */

const state = {
    jobs:   { idx: 0, revealed: false, visited: new Set([0]) },
    places: { idx: 0, revealed: false, visited: new Set([0]) }
};

/* ──────────────────────────────────────────
        TABS
   ────────────────────────────────────────── */

document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('click', function() {
        const tab = this.dataset.tab;
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('section-' + tab).classList.add('active');
        this.classList.add('active');
    });
});

/* ──────────────────────────────────────────
        SLIDESHOW ENGINE
   ────────────────────────────────────────── */

function getData(type) {
    return type === 'jobs' ? jobsData : placesData;
}

function renderSlide(type) {
    const data = getData(type);
    const s = state[type];
    const item = data[s.idx];
    const imgEl = document.getElementById(type + '-img');
    const loader = document.getElementById(type + '-loader');

    // Show loader
    loader.classList.remove('hidden');

    // Image
    imgEl.onload = () => loader.classList.add('hidden');
    imgEl.onerror = () => loader.classList.add('hidden');
    imgEl.src = item.img;
    document.getElementById(type + '-counter').textContent = (s.idx + 1) + ' / ' + data.length;

    // Reset reveal
    s.revealed = false;
    document.getElementById(type + '-reveal').classList.remove('hidden');
    const answerBlock = document.getElementById(type + '-answer');
    answerBlock.classList.remove('visible');
    answerBlock.style.display = 'none'; // force reset animation
    void answerBlock.offsetWidth;

    // Name & pronunciation
    document.getElementById(type + '-name').textContent = item.name;
    document.getElementById(type + '-pron').textContent = item.pron;

    // Nav buttons
    document.getElementById(type + '-prev').disabled = s.idx === 0;
    document.getElementById(type + '-next').disabled = s.idx === data.length - 1;

    // Dots
    renderDots(type);
}

function renderDots(type) {
    const data = getData(type);
    const s = state[type];
    const container = document.getElementById(type + '-dots');
    container.innerHTML = '';
    data.forEach((_, i) => {
        const dot = document.createElement('span');
        dot.className = 'dot';
        if (i === s.idx) dot.classList.add('active');
        else if (s.visited.has(i)) dot.classList.add('visited');
        dot.addEventListener('click', () => { s.idx = i; s.visited.add(i); renderSlide(type); });
        container.appendChild(dot);
    });
}

function revealAnswer(type) {
    state[type].revealed = true;
    document.getElementById(type + '-reveal').classList.add('hidden');
    const answerBlock = document.getElementById(type + '-answer');
    answerBlock.style.display = '';
    // Trigger reflow for animation
    void answerBlock.offsetWidth;
    answerBlock.classList.add('visible');
}

function navigate(type, dir) {
    const data = getData(type);
    const s = state[type];
    s.idx = Math.max(0, Math.min(data.length - 1, s.idx + dir));
    s.visited.add(s.idx);
    renderSlide(type);
}

/* ──────────────────────────────────────────
        QUIZ ENGINE  (toggle show / hide)
   ────────────────────────────────────────── */

function buildQuiz() {
    const container = document.getElementById('quiz-container');
    container.innerHTML = '';
    quizData.forEach((item, i) => {
        const card = document.createElement('div');
        card.className = 'quiz-card';
        card.dataset.index = i;

        const parts = item.q.split('_______');
        const blankPlaceholder = '\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0\u00A0';

        card.innerHTML = `
            <div class="quiz-question">
                <span class="quiz-number">${i + 1}</span>
                ${parts[0]}<span class="blank" data-answer="${item.a}" data-placeholder="${blankPlaceholder}">${blankPlaceholder}</span>${parts[1] || ''}
            </div>
            <div class="quiz-hint">Click to show / hide the answer</div>
        `;

        card.addEventListener('click', function () {
            const blank = this.querySelector('.blank');
            const isShowing = this.classList.contains('revealed');

            if (isShowing) {
                // HIDE the answer
                this.classList.remove('revealed');
                blank.classList.remove('show-answer');
                blank.textContent = blank.dataset.placeholder;
                this.querySelector('.quiz-hint').textContent = 'Click to show the answer';
            } else {
                // SHOW the answer
                this.classList.add('revealed');
                blank.classList.add('show-answer');
                blank.textContent = item.a;
                this.querySelector('.quiz-hint').textContent = 'Click to hide the answer';
            }
        });
        container.appendChild(card);
    });
}

function resetQuiz() {
    buildQuiz();
}

/* ──────────────────────────────────────────
        KEYBOARD NAV
   ────────────────────────────────────────── */
document.addEventListener('keydown', function(e) {
    // Figure out which slideshow section is active
    let activeType = null;
    if (document.getElementById('section-jobs').classList.contains('active')) activeType = 'jobs';
    else if (document.getElementById('section-places').classList.contains('active')) activeType = 'places';

    if (!activeType) return;

    if (e.key === 'ArrowRight') navigate(activeType, 1);
    else if (e.key === 'ArrowLeft') navigate(activeType, -1);
    else if (e.key === ' ' || e.key === 'Enter') {
        e.preventDefault();
        if (!state[activeType].revealed) revealAnswer(activeType);
    }
});

/* ──────────────────────────────────────────
        INIT
   ────────────────────────────────────────── */
renderSlide('jobs');
renderSlide('places');
buildQuiz();
</script>
</body>
</html>
